!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("axios")):"function"==typeof define&&define.amd?define(["exports","axios"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self)["axios-extensions"]={},t.axios)}(this,(function(t,e){"use strict";function i(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var s=i(e);const n="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,o="function"==typeof AbortController?AbortController:class{constructor(){this.signal=new h}abort(t=new Error("This operation was aborted")){this.signal.reason=this.signal.reason||t,this.signal.aborted=!0,this.signal.dispatchEvent({type:"abort",target:this.signal})}},r="function"==typeof AbortSignal,a="function"==typeof o.AbortSignal,h=r?AbortSignal:a?o.AbortController:class{constructor(){this.reason=void 0,this.aborted=!1,this._listeners=[]}dispatchEvent(t){"abort"===t.type&&(this.aborted=!0,this.onabort(t),this._listeners.forEach((e=>e(t)),this))}onabort(){}addEventListener(t,e){"abort"===t&&this._listeners.push(e)}removeEventListener(t,e){"abort"===t&&(this._listeners=this._listeners.filter((t=>t!==e)))}},l=new Set,c=(t,e)=>{const i=`LRU_CACHE_OPTION_${t}`;f(i)&&p(i,`${t} option`,`options.${e}`,m)},u=(t,e)=>{const i=`LRU_CACHE_METHOD_${t}`;if(f(i)){const{prototype:s}=m,{get:n}=Object.getOwnPropertyDescriptor(s,t);p(i,`${t} method`,`cache.${e}()`,n)}},d=(...t)=>{"object"==typeof process&&process&&"function"==typeof process.emitWarning?process.emitWarning(...t):console.error(...t)},f=t=>!l.has(t),p=(t,e,i,s)=>{l.add(t);d(`The ${e} is deprecated. Please use ${i} instead.`,"DeprecationWarning",t,s)},g=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),v=t=>g(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?y:null:null;class y extends Array{constructor(t){super(t),this.fill(0)}}class S{constructor(t){if(0===t)return[];const e=v(t);this.heap=new e(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}class m{constructor(t={}){const{max:e=0,ttl:i,ttlResolution:s=1,ttlAutopurge:n,updateAgeOnGet:o,updateAgeOnHas:r,allowStale:a,dispose:h,disposeAfter:u,noDisposeOnSet:p,noUpdateTTL:y,maxSize:w=0,maxEntrySize:x=0,sizeCalculation:z,fetchMethod:L,fetchContext:b,noDeleteOnFetchRejection:_,noDeleteOnStaleGet:T,allowStaleOnFetchRejection:A,allowStaleOnFetchAbort:F,ignoreFetchAbort:k}=t,{length:E,maxAge:O,stale:C}=t instanceof m?{}:t;if(0!==e&&!g(e))throw new TypeError("max option must be a nonnegative integer");const D=e?v(e):Array;if(!D)throw new Error("invalid max value: "+e);if(this.max=e,this.maxSize=w,this.maxEntrySize=x||this.maxSize,this.sizeCalculation=z||E,this.sizeCalculation){if(!this.maxSize&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=L||null,this.fetchMethod&&"function"!=typeof this.fetchMethod)throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=b,!this.fetchMethod&&void 0!==b)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(e).fill(null),this.valList=new Array(e).fill(null),this.next=new D(e),this.prev=new D(e),this.head=0,this.tail=0,this.free=new S(e),this.initialFill=1,this.size=0,"function"==typeof h&&(this.dispose=h),"function"==typeof u?(this.disposeAfter=u,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!p,this.noUpdateTTL=!!y,this.noDeleteOnFetchRejection=!!_,this.allowStaleOnFetchRejection=!!A,this.allowStaleOnFetchAbort=!!F,this.ignoreFetchAbort=!!k,0!==this.maxEntrySize){if(0!==this.maxSize&&!g(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");if(!g(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!a||!!C,this.noDeleteOnStaleGet=!!T,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!r,this.ttlResolution=g(s)||0===s?s:1,this.ttlAutopurge=!!n,this.ttl=i||O||0,this.ttl){if(!g(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(0===this.max&&0===this.ttl&&0===this.maxSize)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){const t="LRU_CACHE_UNBOUNDED";if(f(t)){l.add(t);d("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",t,m)}}C&&c("stale","allowStale"),O&&c("maxAge","ttl"),E&&c("length","sizeCalculation")}getRemainingTTL(t){return this.has(t,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new y(this.max),this.starts=new y(this.max),this.setItemTTL=(t,e,i=n.now())=>{if(this.starts[t]=0!==e?i:0,this.ttls[t]=e,0!==e&&this.ttlAutopurge){const i=setTimeout((()=>{this.isStale(t)&&this.delete(this.keyList[t])}),e+1);i.unref&&i.unref()}},this.updateItemAge=t=>{this.starts[t]=0!==this.ttls[t]?n.now():0},this.statusTTL=(i,s)=>{i&&(i.ttl=this.ttls[s],i.start=this.starts[s],i.now=t||e(),i.remainingTTL=i.now+i.ttl-i.start)};let t=0;const e=()=>{const e=n.now();if(this.ttlResolution>0){t=e;const i=setTimeout((()=>t=0),this.ttlResolution);i.unref&&i.unref()}return e};this.getRemainingTTL=i=>{const s=this.keyMap.get(i);return void 0===s?0:0===this.ttls[s]||0===this.starts[s]?1/0:this.starts[s]+this.ttls[s]-(t||e())},this.isStale=i=>0!==this.ttls[i]&&0!==this.starts[i]&&(t||e())-this.starts[i]>this.ttls[i]}updateItemAge(t){}statusTTL(t,e){}setItemTTL(t,e,i){}isStale(t){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new y(this.max),this.removeItemSize=t=>{this.calculatedSize-=this.sizes[t],this.sizes[t]=0},this.requireSize=(t,e,i,s)=>{if(this.isBackgroundFetch(e))return 0;if(!g(i)){if(!s)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!=typeof s)throw new TypeError("sizeCalculation must be a function");if(i=s(e,t),!g(i))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return i},this.addItemSize=(t,e,i)=>{if(this.sizes[t]=e,this.maxSize){const e=this.maxSize-this.sizes[t];for(;this.calculatedSize>e;)this.evict(!0)}this.calculatedSize+=this.sizes[t],i&&(i.entrySize=e,i.totalCalculatedSize=this.calculatedSize)}}removeItemSize(t){}addItemSize(t,e){}requireSize(t,e,i,s){if(i||s)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache")}*indexes({allowStale:t=this.allowStale}={}){if(this.size)for(let e=this.tail;this.isValidIndex(e)&&(!t&&this.isStale(e)||(yield e),e!==this.head);)e=this.prev[e]}*rindexes({allowStale:t=this.allowStale}={}){if(this.size)for(let e=this.head;this.isValidIndex(e)&&(!t&&this.isStale(e)||(yield e),e!==this.tail);)e=this.next[e]}isValidIndex(t){return void 0!==t&&this.keyMap.get(this.keyList[t])===t}*entries(){for(const t of this.indexes())void 0===this.valList[t]||void 0===this.keyList[t]||this.isBackgroundFetch(this.valList[t])||(yield[this.keyList[t],this.valList[t]])}*rentries(){for(const t of this.rindexes())void 0===this.valList[t]||void 0===this.keyList[t]||this.isBackgroundFetch(this.valList[t])||(yield[this.keyList[t],this.valList[t]])}*keys(){for(const t of this.indexes())void 0===this.keyList[t]||this.isBackgroundFetch(this.valList[t])||(yield this.keyList[t])}*rkeys(){for(const t of this.rindexes())void 0===this.keyList[t]||this.isBackgroundFetch(this.valList[t])||(yield this.keyList[t])}*values(){for(const t of this.indexes())void 0===this.valList[t]||this.isBackgroundFetch(this.valList[t])||(yield this.valList[t])}*rvalues(){for(const t of this.rindexes())void 0===this.valList[t]||this.isBackgroundFetch(this.valList[t])||(yield this.valList[t])}[Symbol.iterator](){return this.entries()}find(t,e){for(const i of this.indexes()){const s=this.valList[i],n=this.isBackgroundFetch(s)?s.__staleWhileFetching:s;if(void 0!==n&&t(n,this.keyList[i],this))return this.get(this.keyList[i],e)}}forEach(t,e=this){for(const i of this.indexes()){const s=this.valList[i],n=this.isBackgroundFetch(s)?s.__staleWhileFetching:s;void 0!==n&&t.call(e,n,this.keyList[i],this)}}rforEach(t,e=this){for(const i of this.rindexes()){const s=this.valList[i],n=this.isBackgroundFetch(s)?s.__staleWhileFetching:s;void 0!==n&&t.call(e,n,this.keyList[i],this)}}get prune(){return u("prune","purgeStale"),this.purgeStale}purgeStale(){let t=!1;for(const e of this.rindexes({allowStale:!0}))this.isStale(e)&&(this.delete(this.keyList[e]),t=!0);return t}dump(){const t=[];for(const e of this.indexes({allowStale:!0})){const i=this.keyList[e],s=this.valList[e],o=this.isBackgroundFetch(s)?s.__staleWhileFetching:s;if(void 0===o)continue;const r={value:o};if(this.ttls){r.ttl=this.ttls[e];const t=n.now()-this.starts[e];r.start=Math.floor(Date.now()-t)}this.sizes&&(r.size=this.sizes[e]),t.unshift([i,r])}return t}load(t){this.clear();for(const[e,i]of t){if(i.start){const t=Date.now()-i.start;i.start=n.now()-t}this.set(e,i.value,i)}}dispose(t,e,i){}set(t,e,{ttl:i=this.ttl,start:s,noDisposeOnSet:n=this.noDisposeOnSet,size:o=0,sizeCalculation:r=this.sizeCalculation,noUpdateTTL:a=this.noUpdateTTL,status:h}={}){if(o=this.requireSize(t,e,o,r),this.maxEntrySize&&o>this.maxEntrySize)return h&&(h.set="miss",h.maxEntrySizeExceeded=!0),this.delete(t),this;let l=0===this.size?void 0:this.keyMap.get(t);if(void 0===l)l=this.newIndex(),this.keyList[l]=t,this.valList[l]=e,this.keyMap.set(t,l),this.next[this.tail]=l,this.prev[l]=this.tail,this.tail=l,this.size++,this.addItemSize(l,o,h),h&&(h.set="add"),a=!1;else{this.moveToTail(l);const i=this.valList[l];if(e!==i){if(this.isBackgroundFetch(i)?i.__abortController.abort(new Error("replaced")):n||(this.dispose(i,t,"set"),this.disposeAfter&&this.disposed.push([i,t,"set"])),this.removeItemSize(l),this.valList[l]=e,this.addItemSize(l,o,h),h){h.set="replace";const t=i&&this.isBackgroundFetch(i)?i.__staleWhileFetching:i;void 0!==t&&(h.oldValue=t)}}else h&&(h.set="update")}if(0===i||0!==this.ttl||this.ttls||this.initializeTTLTracking(),a||this.setItemTTL(l,i,s),this.statusTTL(h,l),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return 0===this.size?this.tail:this.size===this.max&&0!==this.max?this.evict(!1):0!==this.free.length?this.free.pop():this.initialFill++}pop(){if(this.size){const t=this.valList[this.head];return this.evict(!0),t}}evict(t){const e=this.head,i=this.keyList[e],s=this.valList[e];return this.isBackgroundFetch(s)?s.__abortController.abort(new Error("evicted")):(this.dispose(s,i,"evict"),this.disposeAfter&&this.disposed.push([s,i,"evict"])),this.removeItemSize(e),t&&(this.keyList[e]=null,this.valList[e]=null,this.free.push(e)),this.head=this.next[e],this.keyMap.delete(i),this.size--,e}has(t,{updateAgeOnHas:e=this.updateAgeOnHas,status:i}={}){const s=this.keyMap.get(t);if(void 0!==s){if(!this.isStale(s))return e&&this.updateItemAge(s),i&&(i.has="hit"),this.statusTTL(i,s),!0;i&&(i.has="stale",this.statusTTL(i,s))}else i&&(i.has="miss");return!1}peek(t,{allowStale:e=this.allowStale}={}){const i=this.keyMap.get(t);if(void 0!==i&&(e||!this.isStale(i))){const t=this.valList[i];return this.isBackgroundFetch(t)?t.__staleWhileFetching:t}}backgroundFetch(t,e,i,s){const n=void 0===e?void 0:this.valList[e];if(this.isBackgroundFetch(n))return n;const r=new o;i.signal&&i.signal.addEventListener("abort",(()=>r.abort(i.signal.reason)));const a={signal:r.signal,options:i,context:s},h=(s,n=!1)=>{const{aborted:o}=r.signal,h=i.ignoreFetchAbort&&void 0!==s;return i.status&&(o&&!n?(i.status.fetchAborted=!0,i.status.fetchError=r.signal.reason,h&&(i.status.fetchAbortIgnored=!0)):i.status.fetchResolved=!0),!o||h||n?(this.valList[e]===c&&(void 0===s?c.__staleWhileFetching?this.valList[e]=c.__staleWhileFetching:this.delete(t):(i.status&&(i.status.fetchUpdated=!0),this.set(t,s,a.options))),s):l(r.signal.reason)},l=s=>{const{aborted:n}=r.signal,o=n&&i.allowStaleOnFetchAbort,a=o||i.allowStaleOnFetchRejection,h=a||i.noDeleteOnFetchRejection;if(this.valList[e]===c){!h||void 0===c.__staleWhileFetching?this.delete(t):o||(this.valList[e]=c.__staleWhileFetching)}if(a)return i.status&&void 0!==c.__staleWhileFetching&&(i.status.returnedStale=!0),c.__staleWhileFetching;if(c.__returned===c)throw s};i.status&&(i.status.fetchDispatched=!0);const c=new Promise(((e,s)=>{this.fetchMethod(t,n,a).then((t=>e(t)),s),r.signal.addEventListener("abort",(()=>{i.ignoreFetchAbort&&!i.allowStaleOnFetchAbort||(e(),i.allowStaleOnFetchAbort&&(e=t=>h(t,!0)))}))})).then(h,(t=>(i.status&&(i.status.fetchRejected=!0,i.status.fetchError=t),l(t))));return c.__abortController=r,c.__staleWhileFetching=n,c.__returned=null,void 0===e?(this.set(t,c,{...a.options,status:void 0}),e=this.keyMap.get(t)):this.valList[e]=c,c}isBackgroundFetch(t){return t&&"object"==typeof t&&"function"==typeof t.then&&Object.prototype.hasOwnProperty.call(t,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(t,"__returned")&&(t.__returned===t||null===t.__returned)}async fetch(t,{allowStale:e=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,ttl:n=this.ttl,noDisposeOnSet:o=this.noDisposeOnSet,size:r=0,sizeCalculation:a=this.sizeCalculation,noUpdateTTL:h=this.noUpdateTTL,noDeleteOnFetchRejection:l=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:c=this.allowStaleOnFetchRejection,ignoreFetchAbort:u=this.ignoreFetchAbort,allowStaleOnFetchAbort:d=this.allowStaleOnFetchAbort,fetchContext:f=this.fetchContext,forceRefresh:p=!1,status:g,signal:v}={}){if(!this.fetchMethod)return g&&(g.fetch="get"),this.get(t,{allowStale:e,updateAgeOnGet:i,noDeleteOnStaleGet:s,status:g});const y={allowStale:e,updateAgeOnGet:i,noDeleteOnStaleGet:s,ttl:n,noDisposeOnSet:o,size:r,sizeCalculation:a,noUpdateTTL:h,noDeleteOnFetchRejection:l,allowStaleOnFetchRejection:c,allowStaleOnFetchAbort:d,ignoreFetchAbort:u,status:g,signal:v};let S=this.keyMap.get(t);if(void 0===S){g&&(g.fetch="miss");const e=this.backgroundFetch(t,S,y,f);return e.__returned=e}{const s=this.valList[S];if(this.isBackgroundFetch(s)){const t=e&&void 0!==s.__staleWhileFetching;return g&&(g.fetch="inflight",t&&(g.returnedStale=!0)),t?s.__staleWhileFetching:s.__returned=s}const n=this.isStale(S);if(!p&&!n)return g&&(g.fetch="hit"),this.moveToTail(S),i&&this.updateItemAge(S),this.statusTTL(g,S),s;const o=this.backgroundFetch(t,S,y,f),r=void 0!==o.__staleWhileFetching,a=r&&e;return g&&(g.fetch=r&&n?"stale":"refresh",a&&n&&(g.returnedStale=!0)),a?o.__staleWhileFetching:o.__returned=o}}get(t,{allowStale:e=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,status:n}={}){const o=this.keyMap.get(t);if(void 0!==o){const r=this.valList[o],a=this.isBackgroundFetch(r);return this.statusTTL(n,o),this.isStale(o)?(n&&(n.get="stale"),a?(n&&(n.returnedStale=e&&void 0!==r.__staleWhileFetching),e?r.__staleWhileFetching:void 0):(s||this.delete(t),n&&(n.returnedStale=e),e?r:void 0)):(n&&(n.get="hit"),a?r.__staleWhileFetching:(this.moveToTail(o),i&&this.updateItemAge(o),r))}n&&(n.get="miss")}connect(t,e){this.prev[e]=t,this.next[t]=e}moveToTail(t){t!==this.tail&&(t===this.head?this.head=this.next[t]:this.connect(this.prev[t],this.next[t]),this.connect(this.tail,t),this.tail=t)}get del(){return u("del","delete"),this.delete}delete(t){let e=!1;if(0!==this.size){const i=this.keyMap.get(t);if(void 0!==i)if(e=!0,1===this.size)this.clear();else{this.removeItemSize(i);const e=this.valList[i];this.isBackgroundFetch(e)?e.__abortController.abort(new Error("deleted")):(this.dispose(e,t,"delete"),this.disposeAfter&&this.disposed.push([e,t,"delete"])),this.keyMap.delete(t),this.keyList[i]=null,this.valList[i]=null,i===this.tail?this.tail=this.prev[i]:i===this.head?this.head=this.next[i]:(this.next[this.prev[i]]=this.next[i],this.prev[this.next[i]]=this.prev[i]),this.size--,this.free.push(i)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return e}clear(){for(const t of this.rindexes({allowStale:!0})){const e=this.valList[t];if(this.isBackgroundFetch(e))e.__abortController.abort(new Error("deleted"));else{const i=this.keyList[t];this.dispose(e,i,"delete"),this.disposeAfter&&this.disposed.push([e,i,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return u("reset","clear"),this.clear}get length(){return((t,e)=>{const i=`LRU_CACHE_PROPERTY_${t}`;if(f(i)){const{prototype:s}=m,{get:n}=Object.getOwnPropertyDescriptor(s,t);p(i,`${t} property`,`cache.${e}`,n)}})("length","size"),this.size}static get AbortController(){return o}static get AbortSignal(){return h}}var w=m;function x(t,e,i,s){return new(i||(i=Promise))((function(n,o){function r(t){try{h(s.next(t))}catch(t){o(t)}}function a(t){try{h(s.throw(t))}catch(t){o(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(r,a)}h((s=s.apply(t,e||[])).next())}))}function z(t,e){var i,s,n,o,r={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(h){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(r=0)),r;)try{if(i=1,s&&(n=2&a[0]?s.return:a[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,a[1])).done)return n;switch(s=0,n&&(a=[2&a[0],n.value]),a[0]){case 0:case 1:n=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,s=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(n=r.trys,(n=n.length>0&&n[n.length-1])||6!==a[0]&&2!==a[0])){r=0;continue}if(3===a[0]&&(!n||a[1]>n[0]&&a[1]<n[3])){r.label=a[1];break}if(6===a[0]&&r.label<n[1]){r.label=n[1],n=a;break}if(n&&r.label<n[2]){r.label=n[2],r.ops.push(a);break}n[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(t){a=[6,t],s=0}finally{i=n=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,h])}}}function L(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t[0],n=t[1],o=t[2],r=s.default.getUri({url:i,params:n,paramsSerializer:o}),a=r.split("?"),h=a[0],l=a[1];if(l){var c=l.split("&");return"".concat(h,"?").concat(c.sort().join("&"))}return r}"function"==typeof SuppressedError&&SuppressedError;t.Cache=w,t.cacheAdapterEnhancer=function(t,e){var i=this;void 0===e&&(e={});var s=e.enabledByDefault,n=void 0===s||s,o=e.cacheFlag,r=void 0===o?"cache":o,a=e.defaultCache,h=void 0===a?new w({ttl:3e5,max:100}):a;return function(s){var o,a=s.url,l=s.method,c=s.params,u=s.paramsSerializer,d=s.forceUpdate,f=void 0!==s[r]&&null!==s[r]?s[r]:n;if("get"===l&&f){var p="function"!=typeof(o=f).get||"function"!=typeof o.set||"function"!=typeof o.delete&&"function"!=typeof o.del?h:f,g=L(a,c,u),v=e.cacheKeyGenerator&&e.cacheKeyGenerator(s,g)||g,y=p.get(v);return!y||d?(y=x(i,void 0,void 0,(function(){var e;return z(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,t(s)];case 1:return[2,i.sent()];case 2:throw e=i.sent(),"delete"in p?p.delete(v):p.del(v),e;case 3:return[2]}}))})),p.set(v,y),y):("info"===process.env.LOGGER_LEVEL&&console.info("[axios-extensions] request cached by cache adapter --\x3e url: ".concat(v)),y)}return t(s)}},t.retryAdapterEnhancer=function(t,e){var i=this;void 0===e&&(e={});var s=e.times,n=void 0===s?2:s;return function(e){return x(i,void 0,void 0,(function(){var i,s,o,r,a=this;return z(this,(function(h){return i=e.retryTimes,s=void 0===i?n:i,!1,o=0,r=function(){return x(a,void 0,void 0,(function(){var i;return z(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,t(e)];case 1:return[2,n.sent()];case 2:if(i=n.sent(),s===o)throw i;return o++,"info"===process.env.LOGGER_LEVEL&&console.info("[axios-extensions] request start retrying --\x3e url: ".concat(e.url," , time: ").concat(o)),[2,r()];case 3:return[2]}}))}))},[2,r()]}))}))}},t.throttleAdapterEnhancer=function(t,e){var i=this;void 0===e&&(e={});var s=e.threshold,n=void 0===s?1e3:s,o=e.cache,r=void 0===o?new w({max:10}):o;return function(e){var s=e.url,o=e.method,a=L(s,e.params,e.paramsSerializer),h=Date.now(),l=r.get(a)||{timestamp:h};if("get"===o){if(h-l.timestamp<=n){var c=l.value;if(c)return"info"===process.env.LOGGER_LEVEL&&console.info("[axios-extensions] request cached by throttle adapter --\x3e url: ".concat(a)),c}return function(e,s){var n=x(i,void 0,void 0,(function(){var i,n;return z(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,t(s)];case 1:return i=o.sent(),r.set(e,{timestamp:Date.now(),value:Promise.resolve(i)}),[2,i];case 2:throw n=o.sent(),"delete"in r?r.delete(e):r.del(e),n;case 3:return[2]}}))}));return r.set(e,{timestamp:Date.now(),value:n}),n}(a,e)}return t(e)}},Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=axios-extensions.min.js.map
